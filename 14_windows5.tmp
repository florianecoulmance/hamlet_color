#!/bin/bash

#SBATCH --job-name=14_windows5.tmp
#SBATCH --partition=carl.p
#SBATCH --array=1-18
#SBATCH --output=/user/doau0129/work/chapter1_2//logs/14_windows5_%A_%a.out
#SBATCH --error=/user/doau0129/work/chapter1_2//logs/14_windows5_%A_%a.err
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=1
#SBATCH --mem-per-cpu=22G
#SBATCH --time=02:30:00

INPUT_TR=/user/doau0129/work/chapter1_2//outputs/listoffiles/traits.fofn

#Create a job for all the possible phenotypes and the associated .fam file with just one phenotype at a time
TRAITS=$(cat ${INPUT_TR} | head -n ${SLURM_ARRAY_TASK_ID} | tail -n 1)
echo ${TRAITS}

lm=/user/doau0129/work/chapter1_2//outputs/gxp/trait5/${TRAITS}.lm.GxP.txt.gz
echo ${lm}
lmm=/user/doau0129/work/chapter1_2//outputs/gxp/trait5/${TRAITS}.lmm.GxP.txt.gz
echo ${lmm}

win5=50000
step5=5000
echo ${win5}
echo ${step5}

win1=10000
step1=1000
echo ${win1}
echo ${step1}


/user/doau0129/work/chapter1_2//sh/gxp_slider.sh ${lm} ${win5} ${step5}
/user/doau0129/work/chapter1_2//sh/gxp_slider.sh ${lm} ${win1} ${step1}
/user/doau0129/work/chapter1_2//sh/gxp_slider.sh ${lmm} ${win5} ${step5}
/user/doau0129/work/chapter1_2//sh/gxp_slider.sh ${lmm} ${win1} ${step1}

